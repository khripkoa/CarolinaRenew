---
export const prerender = true;

import Layout from '../../../../../../layouts/Layout.astro';
import { serviceCategories, services as allServices } from '../../../../../../data/staticServiceData.js';
import { getLocationBySlug, getRelatedLocations } from '../../../../../../utils/geoDataUtils.js';
import { geoData } from '../../../../../../data/geoData.js';
import TrustBadges from '../../../../../../components/TrustBadges.astro';
import ReviewCard from '../../../../../../components/ReviewCard.astro';
import PhotoGallery from '../../../../../../components/PhotoGallery.astro';

export async function getStaticPaths() {
    const paths: any[] = [];

    // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º geoData –ø–æ suburb –∏ neighborhood
    const allNeighborhoods = geoData.filter(item => item.neighborhoods).flatMap(item =>
        item.neighborhoods!.split(', ').map(nh => ({
            city: item.city,
            suburbs: item.suburbs,
            towns: item.towns,
            neighborhood: nh.trim()
        }))
    );

    // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –ø–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∫–æ–º–±–∏–Ω–∞—Ü–∏—è–º city/suburb/neighborhood
    const uniqueNeighborhoods = new Map();

    allNeighborhoods.forEach(item => {
        const citySlug = (item.city || item.towns)?.toLowerCase().replace(/\s+/g, '-').replace(',', '');
        const suburbSlug = item.suburbs?.toLowerCase().replace(/\s+/g, '-');
        const townSlug = item.towns?.toLowerCase().replace(/\s+/g, '-').replace(',', '');
        const neighborhoodSlug = item.neighborhood.toLowerCase().replace(/\s+/g, '-').replace(/\([^)]*\)/g, '').trim();

        // –î–ª—è suburb –∏—Å–ø–æ–ª—å–∑—É–µ–º suburbs –µ—Å–ª–∏ –µ—Å—Ç—å, –∏–Ω–∞—á–µ towns
        const locationSlug = suburbSlug || townSlug;
        const key = `${citySlug}|${locationSlug}|${neighborhoodSlug}`;

        if (!uniqueNeighborhoods.has(key)) {
            uniqueNeighborhoods.set(key, {
                city: item.city || item.towns,
                suburbs: item.suburbs,
                towns: item.towns,
                neighborhood: item.neighborhood
            });
        }
    });

    // –î–ª—è –∫–∞–∂–¥–æ–≥–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ neighborhood —Å–æ–∑–¥–∞–µ–º –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –∏ —É—Å–ª—É–≥–∞–º–∏
    uniqueNeighborhoods.forEach((data, key) => {
        const [citySlug, locationSlug, neighborhoodSlug] = key.split('|');

        // –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —É—Å–ª—É–≥
        for (const category of serviceCategories) {
            // –ü–æ–ª—É—á–∞–µ–º —É—Å–ª—É–≥–∏ –¥–ª—è —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
            const categoryServices = allServices.filter(service => service.category === category.slug);

            for (const service of categoryServices) {
                paths.push({
                    params: {
                        city: citySlug,
                        suburb: locationSlug,
                        neighborhood: neighborhoodSlug,
                        category: category.slug,
                        service: service.slug
                    },
                    props: {
                        cityData: {
                            name: data.city,
                            slug: citySlug
                        },
                        suburbData: {
                            name: data.suburbs || data.towns,
                            slug: locationSlug,
                            city: data.city
                        },
                        neighborhoodData: {
                            name: data.neighborhood,
                            slug: neighborhoodSlug,
                            city: data.city,
                            suburb: data.suburbs || data.towns
                        },
                        categoryData: category,
                        serviceData: service
                    }
                });
            }
        }
    });

    console.log(`Total neighborhood service paths generated: ${paths.length}`);
    return paths;
}

const { cityData, suburbData, neighborhoodData, categoryData, serviceData } = Astro.props;

if (!cityData || !suburbData || !neighborhoodData || !categoryData || !serviceData) {
    return new Response('404 Not Found', { status: 404 });
}

const CapitalizedCity = cityData.name;
const CapitalizedSuburb = suburbData.name;
const CapitalizedNeighborhood = neighborhoodData.name;
const CapitalizedCategory = categoryData.name;
const CapitalizedService = serviceData.name;

// –ü–æ–ª—É—á–∞–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —É—Å–ª—É–≥
const availableCategories = serviceCategories;

// –õ–æ–∫–∞–ª—å–Ω—ã–µ –æ—Ç–∑—ã–≤—ã –¥–ª—è –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –≥–æ—Ä–æ–¥ + –ø—Ä–∏–≥–æ—Ä–æ–¥ + —Ä–∞–π–æ–Ω + –∫–∞—Ç–µ–≥–æ—Ä–∏—è + —É—Å–ª—É–≥–∞
const localReviews = [
   { rating: 5, text: `Amazing ${CapitalizedService} work in ${CapitalizedNeighborhood}! The team understood our local climate and delivered perfect results. Highly recommend for anyone in the area.`, author: 'Sarah Johnson', date: '2024-01-15', service: CapitalizedService, location: `${CapitalizedNeighborhood}, ${CapitalizedSuburb}, ${CapitalizedCity}, NC`, verified: true },
   { rating: 5, text: `Carolina Renew transformed our ${CapitalizedNeighborhood} home with their ${CapitalizedService}. Local expertise and attention to detail made all the difference.`, author: 'Mike Davis', date: '2024-01-10', service: CapitalizedService, location: `${CapitalizedNeighborhood}, ${CapitalizedSuburb}, ${CapitalizedCity}, NC`, verified: true },
   { rating: 5, text: `Outstanding results for our ${CapitalizedService} project in ${CapitalizedNeighborhood}. They know the local building codes and materials that work best here.`, author: 'Jennifer Wilson', date: '2024-01-08', service: CapitalizedService, location: `${CapitalizedNeighborhood}, ${CapitalizedSuburb}, ${CapitalizedCity}, NC`, verified: true },
   { rating: 5, text: `Local ${CapitalizedNeighborhood} experts who deliver exceptional ${CapitalizedService}. Fast response time and professional work throughout.`, author: 'Robert Chen', date: '2024-01-05', service: CapitalizedService, location: `${CapitalizedNeighborhood}, ${CapitalizedSuburb}, ${CapitalizedCity}, NC`, verified: true }
];

const galleryImages = [
  { src: '/assets/interior_before.webp', alt: 'Before work', before: '/assets/interior_before.webp', after: '/assets/interior_after.webp', caption: 'Complete transformation' },
  { src: '/assets/exterior_painting_before.webp', alt: 'Before exterior work', before: '/assets/exterior_painting_before.webp', after: '/assets/exterior_painting_after.webp', caption: 'Exterior makeover' },
  { src: '/assets/kitchen_remodel_before.webp', alt: 'Kitchen before', before: '/assets/kitchen_remodel_before.webp', after: '/assets/kitchen_remodel_after.webp', caption: 'Kitchen renovation' }
];

// Trust elements data
const trustBadges = [
  { type: 'license' as const, title: 'Licensed & Insured', description: 'Fully licensed and insured painting contractors', verified: true },
  { type: 'insurance' as const, title: 'General Liability', description: 'Comprehensive liability insurance coverage', verified: true },
  { type: 'warranty' as const, title: 'Satisfaction Guarantee', description: '100% satisfaction guarantee on all work', verified: true },
  { type: 'certification' as const, title: 'Local Experts', description: `Serving ${CapitalizedNeighborhood} and surrounding areas for 15+ years`, verified: true },
  { type: 'membership' as const, title: 'PDCA Member', description: 'Professional Decorative Painters Association', verified: true },
  { type: 'award' as const, title: 'Top Rated Local Service', description: 'Consistently rated 5-star by local customers', verified: true }
];

const pageTitle = `${CapitalizedService} in ${CapitalizedNeighborhood}, ${CapitalizedSuburb}, ${CapitalizedCity}, NC ‚Äî Local Experts | Carolina Renew`;
const description = `Professional ${CapitalizedService} services in ${CapitalizedNeighborhood}, ${CapitalizedSuburb}, ${CapitalizedCity}, NC. Local experts with 15+ years experience. Free estimates, guaranteed satisfaction.`;
---

<Layout title={pageTitle} description={description}>
    <!-- Hero Section -->
    <section class="bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 text-white py-20">
        <div class="container mx-auto px-4 text-center">
            <div class="max-w-4xl mx-auto">
                <h1 class="text-4xl md:text-6xl font-bold mb-6">
                    Professional {CapitalizedService} Services in {CapitalizedNeighborhood}
                </h1>
                <p class="text-xl md:text-2xl mb-8 text-blue-100">
                    Expert craftsmanship, premium materials, and guaranteed satisfaction for your {CapitalizedNeighborhood} home
                </p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center items-center mb-8">
                    <div class="flex items-center bg-white/10 backdrop-blur-sm rounded-full px-6 py-3">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                        </svg>
                        <span>Licensed & Insured</span>
                    </div>
                    <div class="flex items-center bg-white/10 backdrop-blur-sm rounded-full px-6 py-3">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                        </svg>
                        <span>Free Estimates</span>
                    </div>
                    <div class="flex items-center bg-white/10 backdrop-blur-sm rounded-full px-6 py-3">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                        </svg>
                        <span>100% Satisfaction Guarantee</span>
                    </div>
                </div>
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <a href="#contact" class="bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-4 px-8 rounded-lg text-lg transition-colors shadow-lg animate-pulse">
                        Get Free Quote Today
                    </a>
                    <a href="#services" class="bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white font-bold py-4 px-8 rounded-lg text-lg transition-colors border border-white/30">
                        View Service Details
                    </a>
                </div>
                <div class="mt-8 text-blue-100">
                    <p class="text-sm">‚ö° Same-day consultations available ‚Ä¢ üìç Serving {CapitalizedNeighborhood} & surrounding areas ‚Ä¢ üìû Call <a href="tel:+1-980-408-8122" class="hover:text-yellow-300 underline">980-408-8122</a></p>
                </div>
            </div>
        </div>
    </section>

    <!-- Trust & Reviews Section -->
    <section class="py-20 bg-gray-50">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold mb-4">Trusted by {CapitalizedNeighborhood} Homeowners</h2>
                <p class="text-xl text-gray-600">See why families in {CapitalizedNeighborhood} choose Carolina Renew for their {CapitalizedService.toLowerCase()} needs</p>
            </div>

            <!-- Reviews Carousel -->
            <div class="mb-16">
                <h3 class="text-2xl font-bold text-gray-900 mb-8 text-center">What {CapitalizedNeighborhood} Customers Say About Our {CapitalizedService}</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    {localReviews.map(review => (
                        <div class="bg-white rounded-xl shadow-lg p-6 border border-gray-100">
                            <div class="flex items-center mb-4">
                                {Array.from({ length: 5 }, (_, i) => (
                                    <svg class={`w-5 h-5 ${i < review.rating ? 'text-yellow-400' : 'text-gray-300'}`} fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                                    </svg>
                                ))}
                            </div>
                            <blockquote class="text-gray-700 mb-4 italic">"{review.text}"</blockquote>
                            <div class="flex items-center">
                                <div class="flex-1">
                                    <div class="font-semibold text-gray-900">{review.author}</div>
                                    <div class="text-sm text-gray-500">{review.location}</div>
                                </div>
                                {review.verified && (
                                    <div class="flex items-center text-green-600 text-sm">
                                        <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                                        </svg>
                                        Verified
                                    </div>
                                )}
                            </div>
                        </div>
                    ))}
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                <!-- Trust Badges -->
                <div>
                    <h3 class="text-2xl font-bold text-gray-900 mb-6">Why {CapitalizedNeighborhood} Trusts Carolina Renew</h3>
                    <TrustBadges
                        badges={trustBadges}
                        layout="vertical"
                        showTooltips={true}
                    />
                </div>

                <!-- Business Stats -->
                <div>
                    <h3 class="text-2xl font-bold text-gray-900 mb-6">Our {CapitalizedNeighborhood} Track Record</h3>
                    <div class="bg-white rounded-lg shadow-md p-8">
                        <div class="grid grid-cols-2 gap-6">
                            <div class="text-center">
                                <div class="text-3xl font-bold text-blue-600 mb-1">15+</div>
                                <div class="text-sm text-gray-600">Years Serving {CapitalizedNeighborhood}</div>
                            </div>
                            <div class="text-center">
                                <div class="text-3xl font-bold text-blue-600 mb-1">4.9‚òÖ</div>
                                <div class="text-sm text-gray-600">Local Rating</div>
                            </div>
                            <div class="text-center">
                                <div class="text-4xl font-bold text-green-600 mb-1">500+</div>
                                <div class="text-sm text-gray-600">Projects Completed</div>
                            </div>
                            <div class="text-center">
                                <div class="text-3xl font-bold text-purple-600 mb-1">98%</div>
                                <div class="text-sm text-gray-600">Repeat Customers</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Service Details Section -->
    <section id="services" class="bg-white py-20">
        <div class="container mx-auto px-4">
            <div class="text-center mb-16">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
                    {CapitalizedService} in {CapitalizedNeighborhood}
                </h2>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                    Professional {CapitalizedService.toLowerCase()} services tailored to {CapitalizedNeighborhood}'s unique climate and building standards.
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 mb-12">
                <!-- Service Description -->
                <div class="bg-gray-50 rounded-xl p-8">
                    <h3 class="text-2xl font-bold text-gray-900 mb-6">What is {CapitalizedService}?</h3>
                    <p class="text-gray-600 mb-6 leading-relaxed">
                        {serviceData.description || `Our professional ${CapitalizedService.toLowerCase()} service in ${CapitalizedNeighborhood} combines expert craftsmanship with premium materials to deliver exceptional results. We understand the local climate and building codes specific to ${CapitalizedNeighborhood} area.`}
                    </p>

                    <h4 class="text-lg font-semibold text-gray-900 mb-4">Key Benefits:</h4>
                    <ul class="space-y-3 text-gray-600">
                        <li class="flex items-start">
                            <svg class="w-5 h-5 text-green-500 mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                            </svg>
                            Expert local craftsmanship
                        </li>
                        <li class="flex items-start">
                            <svg class="w-5 h-5 text-green-500 mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                            </svg>
                            Premium materials suited for {CapitalizedCity} climate
                        </li>
                        <li class="flex items-start">
                            <svg class="w-5 h-5 text-green-500 mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                            </svg>
                            Local building code compliance
                        </li>
                        <li class="flex items-start">
                            <svg class="w-5 h-5 text-green-500 mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                            </svg>
                            100% satisfaction guarantee
                        </li>
                    </ul>
                </div>

                <!-- Pricing -->
                <div class="bg-blue-50 rounded-xl p-8">
                    <h3 class="text-2xl font-bold text-gray-900 mb-6">Pricing in {CapitalizedNeighborhood}</h3>
                    <div class="space-y-4">
                        <div class="bg-white rounded-lg p-6 border border-blue-200">
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-lg font-semibold text-gray-900">Starting Price</span>
                                <span class="text-2xl font-bold text-blue-600">$299</span>
                            </div>
                            <p class="text-gray-600 text-sm">Basic {CapitalizedService.toLowerCase()} service</p>
                        </div>
                        <div class="bg-white rounded-lg p-6 border border-blue-200">
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-lg font-semibold text-gray-900">Most Popular</span>
                                <span class="text-2xl font-bold text-blue-600">$599</span>
                            </div>
                            <p class="text-gray-600 text-sm">Complete {CapitalizedService.toLowerCase()} package</p>
                        </div>
                        <div class="bg-white rounded-lg p-6 border border-blue-200">
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-lg font-semibold text-gray-900">Premium Service</span>
                                <span class="text-2xl font-bold text-blue-600">$999+</span>
                            </div>
                            <p class="text-gray-600 text-sm">Full-service {CapitalizedService.toLowerCase()} solution</p>
                        </div>
                    </div>
                    <p class="text-xs text-gray-500 mt-4">*Prices may vary based on project scope. Free detailed estimates provided.</p>
                </div>
            </div>

            <div class="text-center">
                <a href={`/local/${cityData.slug}/${suburbData.slug}/${neighborhoodData.slug}/${categoryData.slug}`} class="inline-flex items-center text-blue-600 hover:text-blue-800 font-medium">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                    Back to {CapitalizedCategory} Services
                </a>
            </div>
        </section>

    <!-- Photo Gallery Section -->
    <section class="py-20 bg-gray-50">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold mb-4">Our {CapitalizedService} Work in {CapitalizedNeighborhood}</h2>
                <p class="text-xl text-gray-600">See the quality and craftsmanship in our recent projects</p>
            </div>

            <PhotoGallery
                images={galleryImages}
                showThumbnails={true}
                enableLightbox={true}
            />
        </div>
    </section>

    <!-- Contact CTA Section -->
    <section class="py-20 bg-gradient-to-r from-blue-600 to-blue-800 text-white">
        <div class="container mx-auto px-4 text-center">
            <h2 class="text-4xl font-bold mb-6">Ready to Get Started with {CapitalizedService}?</h2>
            <p class="text-xl mb-8">Get your free, no-obligation estimate today. Our local experts are standing by to help you with your {CapitalizedService.toLowerCase()} project.</p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
                <a href="#contact" class="bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-4 px-8 rounded-lg text-lg transition-colors shadow-lg">
                    Get Free Estimate
                </a>
                <div class="text-blue-100">
                    <p class="font-semibold">üìû Call <a href="tel:+1-980-408-8122" class="hover:text-yellow-300 underline">980-408-8122</a></p>
                    <p class="text-sm">Same-day consultations available</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Form Section -->
    <section id="contact" class="py-20 bg-gradient-to-br from-blue-50 to-indigo-100">
        <div class="container mx-auto px-4">
            <div class="max-w-4xl mx-auto">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold text-gray-900 mb-4">Ready to Transform Your {CapitalizedNeighborhood} Home?</h2>
                    <p class="text-xl text-gray-700 mb-8">
                        Get your free, no-obligation estimate for professional {CapitalizedService} services in {CapitalizedNeighborhood}.
                        Our local experts are ready to help you achieve the results you deserve.
                    </p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                    <!-- Contact Form -->
                    <div class="bg-white rounded-2xl shadow-xl p-8">
                        <form id="local-contact-form" class="space-y-6" data-form-type="local_contact_form">
                            <!-- Name -->
                            <div>
                                <label for="local-name" class="block text-sm font-medium text-gray-700 mb-2">Your Name *</label>
                                <input
                                    type="text"
                                    id="local-name"
                                    name="name"
                                    required
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"
                                    placeholder="Your full name"
                                    autocomplete="name"
                                >
                            </div>

                            <!-- Email -->
                            <div>
                                <label for="local-email" class="block text-sm font-medium text-gray-700 mb-2">Email Address *</label>
                                <input
                                    type="email"
                                    id="local-email"
                                    name="email"
                                    required
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"
                                    placeholder="your.email@example.com"
                                    autocomplete="email"
                                >
                            </div>

                            <!-- Phone -->
                            <div>
                                <label for="local-phone" class="block text-sm font-medium text-gray-700 mb-2">Phone Number *</label>
                                <input
                                    type="tel"
                                    id="local-phone"
                                    name="phone"
                                    required
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"
                                    placeholder="(980) 123-4567"
                                    autocomplete="tel"
                                >
                            </div>

                            <!-- Service Type -->
                            <div>
                                <label for="local-service" class="block text-sm font-medium text-gray-700 mb-2">Service Type</label>
                                <input
                                    type="text"
                                    id="local-service"
                                    name="service_type"
                                    readonly
                                    value="{CapitalizedService}"
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-700"
                                >
                            </div>

                            <!-- Project Description -->
                            <div>
                                <label for="local-message" class="block text-sm font-medium text-gray-700 mb-2">Tell us about your project</label>
                                <textarea
                                    id="local-message"
                                    name="message"
                                    rows="4"
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors resize-none"
                                    placeholder="Describe your project, timeline, and any specific requirements..."
                                    maxlength="500"
                                ></textarea>
                                <div class="text-xs text-gray-500 mt-1">
                                    <span id="local-message-count">0</span>/500 characters
                                </div>
                            </div>

                            <!-- Legal Consents -->
                            <div class="space-y-3">
                                <!-- Age Verification -->
                                <div class="flex items-start space-x-2">
                                    <input
                                        type="checkbox"
                                        id="local-age-verification"
                                        name="age_verification"
                                        required
                                        class="mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"
                                    >
                                    <label for="local-age-verification" class="text-xs text-gray-600 leading-relaxed">
                                        I confirm I am 13+ years old. This site is not for children under 13. *
                                    </label>
                                </div>

                                <!-- Privacy Consent -->
                                <div class="flex items-start space-x-2">
                                    <input
                                        type="checkbox"
                                        id="local-privacy-consent"
                                        name="privacy_consent"
                                        required
                                        class="mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"
                                    >
                                    <label for="local-privacy-consent" class="text-xs text-gray-600 leading-relaxed">
                                        I agree to the <a href="/privacy-policy" class="text-blue-600 hover:text-blue-800 underline" target="_blank">Privacy Policy</a> and consent to communications from Carolina Renew. *
                                    </label>
                                </div>
                            </div>

                            <!-- Submit Button -->
                            <button
                                type="submit"
                                class="w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white py-4 px-6 rounded-xl font-bold text-lg hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 transition-all duration-200 transform hover:scale-105 shadow-xl"
                                data-cta-type="local_contact_form_submit"
                            >
                                <span class="flex items-center justify-center">
                                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                                    </svg>
                                    Get Free Quote Now
                                </span>
                            </button>

                            <!-- Success/Error Messages -->
                            <div id="local-form-message" class="hidden p-4 rounded-lg text-sm" role="alert"></div>
                        </form>
                    </div>

                    <!-- Contact Info & Trust Badges -->
                    <div class="space-y-8">
                        <!-- Contact Methods -->
                        <div class="bg-white rounded-2xl shadow-xl p-8">
                            <h3 class="text-2xl font-bold text-gray-900 mb-6">Contact Us Today</h3>
                            <div class="space-y-4">
                                <div class="flex items-center p-4 bg-blue-50 rounded-lg">
                                    <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4">
                                        <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                                        </svg>
                                    </div>
                                    <div>
                                        <div class="font-semibold text-gray-900">Call Now</div>
                                        <div class="text-blue-600 font-bold"><a href="tel:+1-980-408-8122" class="hover:text-blue-800">980-408-8122</a></div>
                                    </div>
                                </div>

                                <div class="flex items-center p-4 bg-green-50 rounded-lg">
                                    <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mr-4">
                                        <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9 8s9 3.582 9 8zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z"></path>
                                        </svg>
                                    </div>
                                    <div>
                                        <div class="font-semibold text-gray-900">Text Us for Quick Quote</div>
                                        <div class="text-green-600 font-bold"><a href="sms:+1-980-408-8122" class="hover:text-green-800">Text "QUOTE" to 980-408-8122</a></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Trust Badges -->
                        <div class="bg-white rounded-2xl shadow-xl p-8">
                            <h3 class="text-2xl font-bold text-gray-900 mb-6">Why Choose Carolina Renew?</h3>
                            <div class="space-y-4">
                                <div class="flex items-center">
                                    <svg class="w-5 h-5 text-green-500 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                    </svg>
                                    <span class="text-gray-700">‚úì Free estimates</span>
                                </div>
                                <div class="flex items-center">
                                    <svg class="w-5 h-5 text-green-500 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                    </svg>
                                    <span class="text-gray-700">‚úì Licensed & insured</span>
                                </div>
                                <div class="flex items-center">
                                    <svg class="w-5 h-5 text-green-500 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                    </svg>
                                    <span class="text-gray-700">‚úì Satisfaction guaranteed</span>
                                </div>
                                <div class="flex items-center">
                                    <svg class="w-5 h-5 text-green-500 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                    </svg>
                                    <span class="text-gray-700">‚úì Same-day service available</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</Layout>