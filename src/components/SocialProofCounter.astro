---
// SocialProofCounter - Live activity counter for social proof
interface Props {
    city?: string;
}

const { city = "NC & SC" } = Astro.props;
---

<div
    class="bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-4 my-6"
    x-data="{
    count: 12,
    init() {
      // Simulate live activity with random updates
      setInterval(() => {
        this.count = Math.floor(Math.random() * 8) + 8; // 8-15
      }, 30000);
    }
  }"
>
    <div class="flex items-center gap-4">
        <!-- Animated indicator -->
        <div class="relative flex shrink-0">
            <span
                class="animate-ping absolute inline-flex h-3 w-3 rounded-full bg-green-400 opacity-75"
            ></span>
            <span class="relative inline-flex rounded-full h-3 w-3 bg-green-500"
            ></span>
        </div>

        <!-- Text -->
        <div class="flex-1">
            <p class="text-green-800 font-medium text-sm md:text-base">
                <span class="font-bold" x-text="count">12</span> homeowners in {
                    city
                } are viewing our services right now
            </p>
        </div>

        <!-- Stats -->
        <div class="hidden md:flex items-center gap-4 text-sm text-green-700">
            <div class="flex items-center gap-1">
                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                    <path
                        d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"
                    ></path>
                </svg>
                <span>47 quotes this month</span>
            </div>
        </div>
    </div>
</div>
